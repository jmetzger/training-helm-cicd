# TypeConversion with toYaml in app - chart

## Preparation 

```
cd
mkdir -p my-charts
cd my-charts
helm create app
cd app
```

## Exercise with Problem 

```
nano values.yaml
```

```
# Container Resources - wird mit toYaml eingefügt
resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 250m
    memory: 256Mi
```

```
cd templates
```

```
nano deployment.yaml
```

```
# Testing 
# im Bereich container, für einen container einfügen
# genauso eingerückt wie images
resources: {{ .Values.resources }}
```

```
helm template ..
```

<img width="962" height="79" alt="image" src="https://github.com/user-attachments/assets/9b7e6452-8c26-4547-9aa7-a2d67180035b" />

## Next step -> Fix 1

```
nano deployment.yaml
```

```
# Zeile ändern
# resources: {{ .Values.resources }}
   resources:
     {{ .Values.resources | toYaml }}
```

```
helm template .. --debug
```

```
<img width="665" height="204" alt="image" src="https://github.com/user-attachments/assets/c1d9ff77-2182-4541-a616-636815191b18" />
```

```
# Jetzt richtig formatieren - Schritt 1 
# Zeile ändern
# resources: {{ .Values.resources }}
   resources:
     {{- .Values.resources | toYaml }}
```

```
helm template .. --debug
```

<img width="498" height="175" alt="image" src="https://github.com/user-attachments/assets/363da324-f38f-4b1f-b78b-d96738691737" />

```
# Jetzt richtig formatieren - Schritt 2 
# Zeile ändern
# resources: {{ .Values.resources }}
   resources:
     {{- .Values.resources | toYaml | nindent 10 }}
```

```
helm template .. --debug
```

```
# now it is perfekt
```
<img width="476" height="209" alt="image" src="https://github.com/user-attachments/assets/96cd6162-60ad-4e6b-a5d7-2fbf4db9f76b" />

